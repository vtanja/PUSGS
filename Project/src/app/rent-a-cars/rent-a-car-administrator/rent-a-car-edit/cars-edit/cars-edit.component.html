<div class="container" style="margin-top: 3%;">
  <div class="row" style="width: 70%;margin-left: 15%;">
    <div *ngFor="let car of cars; index as i" style="width: 25%;">
      <div class="card " style="width: 100%; height: 100%;">
        <div class="container c1">
          <img class="card-img-top main-image-style" [src]="car.images[0]" alt="My image {{i + 1}} description">
          <div class="text-block">
            <p style="margin-top:-25%">{{car.rate}}</p>
          </div>
        </div>

        <div class="card-body" style="margin-top: -20%;">
          <h4 class="card-title font-weight-bold h-style">{{car.brand}}&nbsp;{{car.model}}</h4>
          <div class="row justify-content-center">
            <div class="col">
              <div class="row">
                <img src="../../../assets/images/team.png" class="icon-style">
                <label class="label-style"
                  style="font-size: 12px;">&nbsp;&nbsp;{{car.maxPassengers}}&nbsp;passengers</label>
              </div>
              <div class="row">
                <img src="../../../assets/images/gearshift.png" class="icon-style">
                <label *ngIf="car.hasAutomaticGearbox" class="label-style"> &nbsp;&nbsp;A&nbsp;&nbsp;gearbox</label>
                <label *ngIf="!car.hasAutomaticGearbox" class="label-style"> &nbsp;&nbsp;M&nbsp;&nbsp;gearbox</label>
              </div>
            </div>

            <div class="col" style="align-content: center;">
              <div class="row" style="justify-content: center;">
                <img src="../../../assets/images/car-door.png" class="icon-style">
                <label class="label-style" style="font-weight:500">&nbsp;&nbsp;{{car.doors}}&nbsp;&nbsp;doors</label>
              </div>
              <div class="row" style="margin-top: 3%;" *ngIf="car.hasAirCondition">
                <img src="../../../assets/images/freezer.png" class="icon-style">
                <label class="label-style">&nbsp;&nbsp;Air condition</label>
              </div>
            </div>
          </div>
          <div class="d-flex justify-content-center">
          <p style="margin-top: 8px;font-size: smaller;">Price: <b>{{car.pricePerDay | currency:'EUR'}}</b> </p>
         </div>
          <button class="btn  btn-md btn-rounded button-style" style="display: block;width: 100%;" (click)="open(changePriceModal) ; currentCar=car"
            >Change price</button>
            <button class="btn  btn-md btn-rounded button-style" style="display: block;width: 100%; margin-top: 1%;"
            >Add discount</button>
            <button class="btn  btn-md btn-rounded button-style" style="display: block;width: 100%; margin-top: 1%;"
            >Delete car</button>
        </div>

      </div>
    </div>
  </div>
</div>


<ng-template #changePriceModal let-modal [formGroup]="changePriceForm">
  <div class="modal-header">
    <h6 class="modal-title" id="modal-basic-title">Change price for {{currentCar.brand}}&nbsp;{{currentCar.model}}</h6>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">Ã—</span>
    </button>
  </div>
  <div class="modal-body">
    <label class="lblStyle">Current price: <span class="valueStyle"> {{currentCar.pricePerDay| currency:'EUR'}}</span></label>
    <br>
    <label class="lblStyle">New price: </label>
    <input class="modal-input" formControlName="newPrice" type="number">
  </div>
  <div class="modal-footer">
    <button type="button" [disabled]="changePriceForm.invalid" class="btn confirmBtnStyle" (click)="modal.close('Save click'); changePrice()">Confirm</button>
  </div>
</ng-template>
